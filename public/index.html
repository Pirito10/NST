<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PWA con Mapa</title>

  <!-- Incluímos los ficheros CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@latest/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Menú de selección -->
  <div id="menu">
    <h2>Selecciona las subcategorías:</h2>
    <section class="checkbox-group">
      <h3>Comercio</h3>
      <label><input type="checkbox" value="turismo-restaurantes"> Restaurantes</label>
      <label><input type="checkbox" value="turismo-com-areas"> Áreas comerciales</label>
      <label><input type="checkbox" value="turismo-com-mercados"> Ferias y mercados</label>
      <label><input type="checkbox" value="turismo-com-artesanos"> Comercios de artesanía</label>
    </section>
    <section class="checkbox-group">
      <h3>Cultura y Ocio</h3>
      <label><input type="checkbox" value="turismo-poi-museos"> Museos</label>
      <label><input type="checkbox" value="turismo-poi-monumentos"> Monumentos y esculturas</label>
      <label><input type="checkbox" value="distritos-c-cines"> Cines</label>
      <label><input type="checkbox" value="distritos-auditorios"> Auditorios</label>
      <label><input type="checkbox" value="distritos-bibliotecas"> Bibliotecas</label>
      <label><input type="checkbox" value="turismo-poi-edificios"> Edificios singulares</label>
      <label><input type="checkbox" value="distritos-fundaciones"> Fundaciones culturales</label>
      <label><input type="checkbox" value="turismo-com-galerias"> Galerías de arte</label>
      <label><input type="checkbox" value="distritos-teatros"> Teatros</label>
    </section>
    <section class="checkbox-group">
      <h3>Deportes</h3>
      <label><input type="checkbox" value="deportes-i-atletismo"> Pistas de atletismo</label>
      <label><input type="checkbox" value="deportes-i-futbol"> Campos de fútbol</label>
      <label><input type="checkbox" value="deportes-i-complejos"> Complejos deportivos</label>
      <label><input type="checkbox" value="deportes-i-gimnasios"> Gimnasios municipales</label>
      <label><input type="checkbox" value="deportes-i-pabellones"> Pabellones deportivos</label>
      <label><input type="checkbox" value="deportes-i-piscinas"> Piscinas municipales</label>
    </section>
    <section class="checkbox-group">
      <h3>Educación</h3>
      <label><input type="checkbox" value="educacion-centros-ceip"> CEIP</label>
      <label><input type="checkbox" value="educacion-centros-cpeypa"> Centros para adultos</label>
      <label><input type="checkbox" value="educacion-centros-ceepr"> Centros de educación
        especial</label>
      <label><input type="checkbox" value="educacion-centros-cpr"> Centros privados</label>
      <label><input type="checkbox" value="educacion-centros-cifp"> Centros CIFP</label>
      <label><input type="checkbox" value="educacion-centros-cemucmus"> Conservatorios</label>
      <label><input type="checkbox" value="educacion-centros-eoi"> Escuela Oficial de Idiomas</label>
      <label><input type="checkbox" value="educacion-centros-ei"> Escuelas infantiles</label>
      <label><input type="checkbox" value="educacion-centros-ies"> IES</label>
      <label><input type="checkbox" value="educacion-centros-uvigo"> Centros de la UVigo</label>
    </section>
    <section class="checkbox-group">
      <h3>Medio Ambiente</h3>
      <label><input type="checkbox" value="turismo-poi-playas"> Playas</label>
      <label><input type="checkbox" value="distritos-p-forestales"> Parques forestales</label>
      <label><input type="checkbox" value="turismo-poi-jardines"> Parques y jardines</label>
      <label><input type="checkbox" value="ma-fuentes"> Fuentes y manantiales</label>
      <label><input type="checkbox" value="turismo-poi-islascies"> Islas Cíes</label>
    </section>
    <section class="checkbox-group">
      <h3>Movilidad</h3>
      <label><input type="checkbox" value="t-aparcabicis"> Aparcabicis</label>
      <label><input type="checkbox" value="t-parking"> Aparcamientos</label>
      <label><input type="checkbox" value="t-camaras"> Cámaras de tráfico</label>
      <label><input type="checkbox" value="t-carga-descarga"> Zonas de carga/descarga</label>
      <label><input type="checkbox" value="t-tren"> Estaciones de tren</label>
      <label><input type="checkbox" value="t-gasol"> Gasolineras</label>
      <label><input type="checkbox" value="t-navieras"> Navieras</label>
      <label><input type="checkbox" value="paradas-vitrasa"> Paradas de autobús</label>
      <label><input type="checkbox" value="t-taxis"> Paradas de taxi</label>
      <label><input type="checkbox" value="parking-discapacitados"> Plazas para personas con
        discapacidad</label>
      <label><input type="checkbox" value="puntos-recarga"> Puntos de recarga</label>
    </section>
    <section class="checkbox-group">
      <h3>Salud</h3>
      <label><input type="checkbox" value="salud-centros"> Centros de salud</label>
      <label><input type="checkbox" value="salud-farmacias"> Farmacias</label>
      <label><input type="checkbox" value="salud-farmacias24h"> Farmacias 24h</label>
      <label><input type="checkbox" value="salud-hospitales"> Hospitales</label>
      <label><input type="checkbox" value="salud-tanatorios"> Tanatorios</label>
    </section>
    <section class="checkbox-group">
      <h3>Seguridad</h3>
      <label><input type="checkbox" value="seguridad-ambulancias"> Ambulancias</label>
      <label><input type="checkbox" value="seguridad-bomberos"> Bomberos</label>
      <label><input type="checkbox" value="seguridad-procivil"> Protección Civil</label>
      <label><input type="checkbox" value="seguridad-polmunicipal"> Policía municipal</label>
      <label><input type="checkbox" value="seguridad-polautonoma"> Policía autonómica</label>
      <label><input type="checkbox" value="seguridad-polnacional"> Policía nacional</label>
    </section>
    <section class="checkbox-group">
      <h3>Sociedad y Bienestar</h3>
      <label><input type="checkbox" value="sociedad-centros-dia"> Centros de día</label>
      <label><input type="checkbox" value="sociedad-centros-inmigracion"> Centros de inmigración</label>
      <label><input type="checkbox" value="sociedad-centros-ocupacionales"> Centros ocupacionales</label>
      <label><input type="checkbox" value="sociedad-centros-genero"> Centros de violencia de
        género</label>
      <label><input type="checkbox" value="sociedad-centros-voluntariado"> Centros de voluntariado</label>
      <label><input type="checkbox" value="sociedad-centros-residencial"> Centros residenciales</label>
      <label><input type="checkbox" value="sociedad-centros-comedores"> Comedores sociales</label>
      <label><input type="checkbox" value="sociedad-centros-ludotecas"> Ludotecas</label>
      <label><input type="checkbox" value="sociedad-centros-sociales"> Centros de servicios
        sociales</label>
      <label><input type="checkbox" value="sociedad-centros-vivienda"> Viviendas de uso social</label>
    </section>
    <section class="checkbox-group">
      <h3>Turismo</h3>
      <label><input type="checkbox" value="turismo-aloj-albergues"> Albergues</label>
      <label><input type="checkbox" value="turismo-aloj-campings"> Campings</label>
      <label><input type="checkbox" value="turismo-aloj-hoteles"> Hoteles</label>
      <label><input type="checkbox" value="turismo-aloj-pensiones"> Pensiones</label>
      <label><input type="checkbox" value="turismo-poi-lugares"> Puntos de interés turístico</label>
    </section>

    <!-- Botón para aplicar los filtros -->
    <button id="apply-filters">Aplicar filtro</button>

    <!-- Botón para descargar los datos -->
    <button id="download-data">Descargar datos</button>

    <!-- Enlace de ayuda -->
    <p id="import-info-link">
      <a id="open-import-info">Importar a Google Maps</a>
    </p>
  </div>

  <!-- Contenedor del mapa -->
  <div id="map"></div>

  <!-- Selector de formato de los datos -->
  <div id="format-selector" class="selector-container">
    <label>Formato:</label>
    <select id="format">
      <option value="GeoJSON" selected>GeoJSON</option>
      <option value="JSON">JSON</option>
      <option value="KML">KML</option>
      <option value="XLS">XLS</option>
      <option value="CSV">CSV</option>
      <option value="SHP">Shapefile</option>
    </select>
  </div>

  <!--Selector de idioma-->
  <div id="language-selector" class="selector-container">
    <label>Idioma:</label>
    <select id="language">
      <option value="español" selected>Español</option>
      <option value="gallego">Gallego</option>
    </select>
  </div>

  <!-- Ventana de ayuda -->
  <div id="import-modal" class="modal">
    <div class="modal-content">
      <span class="close" id="close-modal">&times;</span>
      <h2>Cómo importar a Google Maps</h2>
      <p>Sigue estos pasos para importar el archivo descargado en Google Maps:</p>
      <ol>
        <li>Accede a <a href="https://www.google.com/mymaps" target="_blank">Google My Maps</a>.</li>
        <li>Haz clic en <strong>Crear un nuevo mapa</strong>.</li>
        <li>En la parte superior izquierda, selecciona <strong>Importar</strong>.</li>
        <li>Selecciona el archivo KML descargado.</li>
      </ol>
      <p>¡Listo! Ahora puedes ver y personalizar tu mapa con los puntos importados.</p>
    </div>
  </div>

  <!-- Vinculamos las librerías y ficheros JavaScript -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/xlsx/dist/xlsx.core.min.js"></script>
  <script src="https://unpkg.com/papaparse/papaparse.min.js"></script>
  <script src="https://unpkg.com/shpjs/dist/shp.min.js"></script>
  <script src="https://unpkg.com/@tmcw/togeojson/dist/togeojson.umd.js"></script>
  <script src="script.js"></script>
  <script src="dataProcessor.js"></script>
  <script src="fileDownload.js"></script>
</body>

</html>